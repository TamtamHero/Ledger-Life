[{"/Users/user1/Desktop/Ledger-Life/front/src/index.js":"1","/Users/user1/Desktop/Ledger-Life/front/src/App.js":"2","/Users/user1/Desktop/Ledger-Life/front/src/Grid.js":"3","/Users/user1/Desktop/Ledger-Life/front/src/controller/LedgerLife.js":"4","/Users/user1/Desktop/Ledger-Life/front/src/SidebarLeft.js":"5","/Users/user1/Desktop/Ledger-Life/front/src/SidebarRight.js":"6","/Users/user1/Desktop/Ledger-Life/front/src/ProgressBars.js":"7","/Users/user1/Desktop/Ledger-Life/front/src/DebugBar.js":"8","/Users/user1/Desktop/Ledger-Life/front/src/Simulation.js":"9","/Users/user1/Desktop/Ledger-Life/front/src/Shape.js":"10"},{"size":220,"mtime":1608134842657,"results":"11","hashOfConfig":"12"},{"size":2946,"mtime":1608147879293,"results":"13","hashOfConfig":"12"},{"size":3819,"mtime":1608147025334,"results":"14","hashOfConfig":"12"},{"size":3338,"mtime":1608138255215,"results":"15","hashOfConfig":"12"},{"size":377,"mtime":1608146433428,"results":"16","hashOfConfig":"12"},{"size":688,"mtime":1608144418657,"results":"17","hashOfConfig":"12"},{"size":535,"mtime":1608145294934,"results":"18","hashOfConfig":"12"},{"size":152,"mtime":1608140089764,"results":"19","hashOfConfig":"12"},{"size":390,"mtime":1608146713900,"results":"20","hashOfConfig":"12"},{"size":1530,"mtime":1608146602975,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1dfnb4y",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/user1/Desktop/Ledger-Life/front/src/index.js",[],["44","45"],"/Users/user1/Desktop/Ledger-Life/front/src/App.js",[],"/Users/user1/Desktop/Ledger-Life/front/src/Grid.js",[],"/Users/user1/Desktop/Ledger-Life/front/src/controller/LedgerLife.js",["46","47"],"import Web3 from \"web3\";\nimport TruffleContract from \"truffle-contract\";\nimport LedgerLifeArtifact from \"../contracts/LedgerLife.json\";\n\nclass LedgerLife {\n  constructor() {\n    this.connected = false;\n    this.busy = false;\n    this.web3Provider = null;\n    this.web3 = null;\n    this.contracts = {};\n    this.contractsInstances = {};\n  }\n\n  async connect() {\n    if (!this.connected) {\n      if (window.ethereum) {\n        this.web3Provider = window.ethereum;\n        try {\n          // Request account access\n          this.account = await this.web3Provider.request({\n            method: \"eth_requestAccounts\",\n            params: [],\n          });\n        } catch (error) {\n          // User denied account access...\n          console.error(\"User denied account access\");\n        }\n        this.web3 = new Web3(this.web3Provider);\n        this.connected = true;\n        console.log(`connected: ${this.account} ${typeof this.account}`);\n        await this.initContract();\n      }\n    }\n  }\n\n  async initContract() {\n    this.contracts.LedgerLife = TruffleContract(LedgerLifeArtifact);\n    this.contracts.LedgerLife.setProvider(this.web3Provider);\n    console.log(\"contract initialized\");\n    await this.deployContract();\n  }\n\n  async deployContract() {\n    this.contractsInstances.LedgerLife = await this.contracts.LedgerLife.deployed();\n    this.contractDeployed = true;\n    console.log(\"contract deployed\");\n  }\n\n  async getGrid() {\n    return await this.contractsInstances.LedgerLife.getGrid.call();\n  }\n\n  async getPlayers() {\n    return await this.contractsInstances.LedgerLife.getPlayers.call();\n  }\n\n  _serializeCellsArray(cellsArray) {\n    let serialized = new Web3.utils.BN(0);\n    cellsArray.forEach((cell) => {\n      if (cell < 0 || cell >= 32 * 32) {\n        throw new Error(`cell index ${cell} is too high`);\n      }\n      console.log(serialized.toString(2));\n      console.log(cell);\n      serialized = serialized.add(new Web3.utils.BN(cell));\n      console.log(serialized.toString(2));\n      serialized = serialized.mul(new Web3.utils.BN(2 ** 12));\n    });\n    serialized = serialized.mul(new Web3.utils.BN(2 ** 4));\n    serialized = serialized.add(new Web3.utils.BN(cellsArray.length));\n    console.log(serialized.toString(2));\n    console.log(serialized.toString(16));\n    return \"0x\" + serialized.toString(16);\n  }\n\n  async _getFreeID() {\n    let instance = await this.contracts.LedgerLife.deployed();\n    let accounts = await this.web3.eth.getAccounts();\n    let players = await this.getPlayers();\n    players.forEach((player, index) => {\n      if (player === \"0x0000000000000000000000000000000000000000\") {\n        return index;\n      }\n    });\n  }\n\n  async buyCells(cells) {\n    let playerID = this.playerID;\n    if (playerID === 0) {\n      playerID = this._getFreeID();\n    }\n    let serializedCells = this._serializeCellsArray(cells);\n    console.log(serializedCells);\n    let instance = await this.contracts.LedgerLife.deployed();\n    let accounts = await this.web3.eth.getAccounts();\n    return await instance.buyCells(serializedCells, {\n      from: accounts[0],\n    });\n  }\n\n  async life() {\n    let instance = await this.contracts.LedgerLife.deployed();\n    let accounts = await this.web3.eth.getAccounts();\n    return await instance.life({\n      from: accounts[0],\n    });\n  }\n}\n\nexport default LedgerLife;\n","/Users/user1/Desktop/Ledger-Life/front/src/SidebarLeft.js",[],"/Users/user1/Desktop/Ledger-Life/front/src/SidebarRight.js",[],"/Users/user1/Desktop/Ledger-Life/front/src/ProgressBars.js",[],"/Users/user1/Desktop/Ledger-Life/front/src/DebugBar.js",[],"/Users/user1/Desktop/Ledger-Life/front/src/Simulation.js",[],"/Users/user1/Desktop/Ledger-Life/front/src/Shape.js",[],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":78,"column":9,"nodeType":"54","messageId":"55","endLine":78,"endColumn":17},{"ruleId":"52","severity":1,"message":"56","line":79,"column":9,"nodeType":"54","messageId":"55","endLine":79,"endColumn":17},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-unused-vars","'instance' is assigned a value but never used.","Identifier","unusedVar","'accounts' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]